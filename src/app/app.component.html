<app-loader></app-loader>
<mat-toolbar
    color="primary"
    *ngIf="($user | async) as user"
>
    <div
        title
        routerLink="/"
    >
        wallies
    </div>
    <div
        actions
        *ngIf="user"
    >
        <button
            mat-icon-button
            [matMenuTriggerFor]="usermenu"
        >
            <app-avatar [user]="user"></app-avatar>
        </button>
        <mat-menu #usermenu="matMenu">
            <button
                mat-menu-item="mat-menu-item"
                (click)="logout()"
            >
                <mat-icon>logout</mat-icon>
                <span>Logout</span>
            </button>
            <mat-divider></mat-divider>
            <button mat-menu-item="mat-menu-item">
                <mat-icon>laptop_mac</mat-icon>
                <span>
                    <a
                        menu-link
                        href="https://github.com/cacko/walldo/releases"
                        target="_blank"
                        rel="external noopener"
                    >
                        Walldo
                    </a>
                </span>
            </button>
            <button mat-menu-item="mat-menu-item">
                <mat-icon>android</mat-icon>
                <span>
                    <a
                        menu-link
                        href="https://play.google.com/store/apps/details?id=net.cacko.wallies"
                        target="_blank"
                        rel="external noopener"
                    >
                        Wallies
                    </a>
                </span>
            </button>
        </mat-menu>
    </div>
</mat-toolbar>
<router-outlet></router-outlet>
